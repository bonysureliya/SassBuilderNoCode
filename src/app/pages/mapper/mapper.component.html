<!-- mapper.component.html -->
<div class="container mx-auto p-4">
  <h2 class="text-xl font-bold mb-4">Menu Item Mapper</h2>

  <!-- Form for adding menu items -->
  <form [formGroup]="mapperForm" (ngSubmit)="onSubmit()">
    <div class="flex flex-col gap-4 w-full p-4 bg-gray-100 rounded-lg shadow-md">
      <h3 class="text-lg font-medium">Menu Items</h3>

      <div formArrayName="textItems">
        <div *ngFor="let item of textItems.controls; let i = index" class="mb-3">
          <label class="block mb-1">Menu Item {{i + 1}}</label>
          <div class="flex gap-2">
            <input type="text" [formControlName]="i"
              class="flex-grow px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" />
          </div>
        </div>
      </div>

      <button type="button" (click)="addTextItem()"
        class="self-start px-3 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">
        Add Menu Item
      </button>
    </div>

    <button type="submit"
      class="mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
      Generate React Component
    </button>
  </form>

  <!-- Preview of the navigation bar -->
  <div class="mt-8">
    <h3 class="text-lg font-medium mb-2">Preview</h3>
    <div class="flex w-full justify-between p-4 border border-amber-400 mt-2">
      <div>Logo Here</div>
      <div>
        <ul class="flex gap-4">
          <li *ngFor="let item of textItems.controls; let i = index">
            {{ item.value || 'Item ' + (i+1) }}
          </li>
        </ul>
      </div>
      <div>CTA here</div>
    </div>
  </div>

  <!-- Generated React code -->
  <div *ngIf="generatedCode" class="mt-8">
    <h3 class="text-lg font-medium mb-2">Generated React Component</h3>
    <div class="bg-gray-800 text-gray-100 p-4 rounded overflow-auto max-h-80">
      <pre>{{ generatedCode }}</pre>
    </div>
    <div class="text-sm text-green-600 mt-2">âœ“ Code copied to clipboard!</div>
  </div>
</div>